<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>cronbee</title>
	<meta name="description" content="Documentation for cronbee">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">cronbee</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>cronbee</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#cronbee" id="cronbee" style="color: inherit; text-decoration: none;">
					<h1>Cronbee</h1>
				</a>
				<p align='center'>
					<img src='assets/background.jpg'/>
				</p>
				<hr>
				<p><a href="https://travis-ci.com/atmajs/cronbee"><img src="https://travis-ci.com/atmajs/cronbee.svg?branch=master" alt="Build Status"></a>
				<a href="http://badge.fury.io/js/cronbee"><img src="https://badge.fury.io/js/cronbee.svg" alt="NPM version"></a></p>
				<p>Manage, run and log all your scheduled tasks using system capabilities with <strong><code>crontab</code></strong> and <strong><code>schtasks</code></strong></p>
				<a href="#cli" id="cli" style="color: inherit; text-decoration: none;">
					<h3>CLI</h3>
				</a>
				<pre><code class="language-bash"><span style="color: #008000"># List active cron jobs created with `cronbee`</span>
<span style="color: #000000">$ cronbee list</span>

<span style="color: #008000"># Remove active cron jobs created with `cronbee`</span>
<span style="color: #000000">cronbee clear</span>

<span style="color: #008000"># Ensure cron jobs (from File)</span>
<span style="color: #000000">$ cronbee ensure ./cronbee.json</span>
</code></pre>
				<p><code>JSON</code> sample, see <code>cronbee.ensure</code> API for full parameters list for a task.</p>
				<pre><code class="language-json"><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0451A5">&quot;tasks&quot;</span><span style="color: #000000">: [</span>
<span style="color: #000000">        {</span>
<span style="color: #000000">            </span><span style="color: #0451A5">&quot;taskName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;some_echo&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #0451A5">&quot;taskRun&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;cronbee echo Foo&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #0451A5">&quot;cron&quot;</span><span style="color: #000000">:  </span><span style="color: #A31515">&quot;0 12 * * *&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #0451A5">&quot;schtaskFlags&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;/sc daily /st 12:00&quot;</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">    ]</span>
<span style="color: #000000">}</span>
</code></pre>
				<blockquote>
					<p><code>taskRun</code> - <code>cronbee</code> prefix means, the <code>os</code> starts the <code>cronbee</code> process at specified interval. <code>cronbee</code> starts underlying process. The wrapped process is for monitoring and logging purpose. You will get the information how much time your task took and if it was successful. If you do not need the logging feature, you can provide just the command (without <code>cronbee</code>)</p>
				</blockquote>
				<a href="#api" id="api" style="color: inherit; text-decoration: none;">
					<h3>API</h3>
				</a>
				<a href="#create-scheduled-task" id="create-scheduled-task" style="color: inherit; text-decoration: none;">
					<h5>Create scheduled task</h5>
				</a>
				<blockquote>
					<p>If the task already exists, does nothing</p>
				</blockquote>
				<pre><code class="language-ts"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">cronbee</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;cronbee&#039;</span>

<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cronbee</span><span style="color: #000000">.</span><span style="color: #795E26">ensure</span><span style="color: #000000">({</span>
<span style="color: #000000">    </span><span style="color: #008000">// Name your task</span>
<span style="color: #000000">    </span><span style="color: #001080">taskName:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;check emails&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #008000">// Execute any Shell command with arguments</span>
<span style="color: #000000">    </span><span style="color: #001080">taskRun:</span><span style="color: #000000"> </span><span style="color: #A31515">`node emailchecker --foo`</span><span style="color: #000000">,</span>

<span style="color: #000000">    </span><span style="color: #008000">// By default the working directory will be the current directory</span>
<span style="color: #000000">    </span><span style="color: #001080">workingDirectory:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;/home/www&#039;</span>

<span style="color: #000000">    </span><span style="color: #008000">/** Depending on the system, define timing configurations for crontab or schtasks separately */</span>

<span style="color: #000000">    </span><span style="color: #008000">// crontab example</span>
<span style="color: #000000">    </span><span style="color: #001080">cron</span><span style="color: #000000">: </span><span style="color: #A31515">&#039;0 12 * * *&#039;</span><span style="color: #000000">,</span>

<span style="color: #000000">    </span><span style="color: #008000">// schtasks example</span>
<span style="color: #000000">    </span><span style="color: #001080">schtaskFlags:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;/sc daily /st 12:00&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">})</span>
</code></pre>
				<a href="#list-scheduled-tasks" id="list-scheduled-tasks" style="color: inherit; text-decoration: none;">
					<h5>List scheduled tasks</h5>
				</a>
				<pre><code class="language-ts"><span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">tasks</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cronbee</span><span style="color: #000000">.</span><span style="color: #795E26">load</span><span style="color: #000000">();</span>
</code></pre>
				<a href="#remove-scheduled-task" id="remove-scheduled-task" style="color: inherit; text-decoration: none;">
					<h5>Remove scheduled task</h5>
				</a>
				<pre><code class="language-ts"><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cronbee</span><span style="color: #000000">.</span><span style="color: #795E26">remove</span><span style="color: #000000">({ </span><span style="color: #001080">taskName:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;check emails&#039;</span><span style="color: #000000"> });</span>
</code></pre>
				<a href="#runner" id="runner" style="color: inherit; text-decoration: none;">
					<h3>Runner</h3>
				</a>
				<p>Though you can define any shell command to be executed at scheduled time by the <code>os</code>, you can also use the <code>cronbee</code> as the wrapped runner, to log executions to CSV files. Just prefix your command with <code>cronbee</code> and you are done. The logs can be found in <code>./logs/everlog/cronbee</code></p>
				<pre><code class="language-ts"><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cronbee</span><span style="color: #000000">.</span><span style="color: #795E26">ensure</span><span style="color: #000000">({</span>
<span style="color: #000000">    </span><span style="color: #008000">// ... config</span>
<span style="color: #000000">    </span><span style="color: #001080">taskRun:</span><span style="color: #000000"> </span><span style="color: #A31515">`cronbee node emailchecker --foo`</span><span style="color: #000000">,</span>
<span style="color: #000000">});</span>
</code></pre>
				<a href="#additional-hints" id="additional-hints" style="color: inherit; text-decoration: none;">
					<h3>Additional Hints</h3>
				</a>
				<ol>
					<li>We can start commands from <code>./node_modules/.bin/</code> directory, so you can use just the command name.</li>
				</ol>
				<p>🏁</p>
				<hr>
				<p>©️ MIT License.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/Scheduler.html" class="tsd-kind-icon">Scheduler</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>